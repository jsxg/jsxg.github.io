$(function(){function n(n){n==t-1?l=!1:0==n&&(l=!0)}var i=$(".banner-frame"),e=$(".point-frame"),a=0,t=0,s=0,c=0,l=!0;i.append('<li class="banner-item" style="background-image: url(../img/banner.png);"></li><li class="banner-item" style="background-image: url(../img/banner.png);"></li><li class="banner-item" style="background-image: url(../img/banner.png);"></li>'),e.append('<span class="active"></span><span></span><span></span>'),a=$(".banner").width(),t=i.find("li").length,i.find("li").css("width",a),i.css("width",a*t),i.css({left:-a*s}),e.find("span:first").trigger("click"),$(".point-frame").on("click","span",function(){s=$(this).index(),$(this).addClass("active").siblings().removeClass("active"),i.animate({left:-a*s},500)}),setInterval(function(){n(s),l?(s++,e.find("span:eq("+s+")").trigger("click")):(s--,e.find("span:eq("+s+")").trigger("click"))},5e3);var r=0,o=0,f=0,d=0;$(".banner").on("touchstart",function(n){r=n.touches[0].clientX,c=i.position().left}).on("touchmove",function(n){f=n.touches[0].clientX,d=f-r,i.css({left:c+d})}).on("touchend",function(n){if(o=n.changedTouches[0].clientX,d<0&&Math.abs(o-r)>100&&c<=0&&c>-a*(t-1)){c+=-a;var s=e.find(".active").index()+1;e.find("span:eq("+s+")").trigger("click")}else if(d>0&&o-r>100&&Math.abs(c)>0&&Math.abs(c)<=a*(t-1)){c+=a;var s=e.find(".active").index()-1;e.find("span:eq("+s+")").trigger("click")}else i.css({left:c})}),$(".news-ls").on("click",".news-item",function(){location.href="news-detail.html"})});